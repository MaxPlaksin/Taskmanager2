# TaskManager Docker & MCP Configuration

## üê≥ Docker Setup

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Docker –∏ –≤–∫–ª—é—á–∞–µ—Ç MCP (Model Context Protocol) –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
./docker-manager.sh start
```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
```bash
./docker-manager.sh status
```

3. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
```bash
./docker-manager.sh logs
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `./docker-manager.sh start` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `./docker-manager.sh stop` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `./docker-manager.sh restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `./docker-manager.sh status` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |
| `./docker-manager.sh logs [—Å–µ—Ä–≤–∏—Å]` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ |
| `./docker-manager.sh build` | –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –æ–±—Ä–∞–∑—ã |
| `./docker-manager.sh clean` | –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã |
| `./docker-manager.sh exec [—Å–µ—Ä–≤–∏—Å]` | –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É |

### –°–µ—Ä–≤–∏—Å—ã

- **postgres** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- **backend** - Flask API —Å–µ—Ä–≤–µ—Ä
- **frontend** - React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Nginx

### –ü–æ—Ä—Ç—ã

- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:5001
- **PostgreSQL**: localhost:5432

## üîß MCP Configuration

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MCP –≤ Cursor

–§–∞–π–ª `.cursor/mcp.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Docker:

```json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/Users/maxim/Project/Taskmanager2"],
      "env": {}
    },
    "docker-manager": {
      "command": "node",
      "args": ["/Users/maxim/Project/Taskmanager2/docker-mcp-server.js"],
      "env": {
        "POSTGRES_PASSWORD": "taskmanager123",
        "SECRET_KEY": "dev-secret-key-change-in-production",
        "FLASK_ENV": "development"
      }
    }
  }
}
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ MCP –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MCP –≤ Cursor –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Å–ª–µ–¥—É—é—â–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º:

#### Docker Manager Tools:
- **docker_status** - –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ TaskManager
- **docker_start** - –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã TaskManager
- **docker_stop** - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã TaskManager
- **docker_logs** - –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (—Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º service)
- **docker_build** - –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã

#### Filesystem Tools:
- **read_file** - –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
- **write_file** - –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
- **list_directory** - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- **search_files** - –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MCP

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MCP –≤ Cursor –≤—ã —Å–º–æ–∂–µ—Ç–µ:

1. **–£–ø—Ä–∞–≤–ª—è—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏** —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Cursor
2. **–í—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã Docker** –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
4. **–ü–æ–ª—É—á–∞—Ç—å –ª–æ–≥–∏** –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
5. **–†–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∞–π–ª–∞–º–∏** –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ MCP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

- `POSTGRES_PASSWORD` - –ü–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL
- `SECRET_KEY` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Flask
- `FLASK_ENV` - –†–µ–∂–∏–º Flask (development/production)

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:
```bash
./docker-manager.sh start
```

2. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
   - Frontend: http://localhost:3000
   - Backend API: http://localhost:5001

### –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `docker-compose.yml`
2. –°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑—ã:
```bash
./docker-manager.sh build
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:
```bash
./docker-manager.sh start
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
./docker-manager.sh logs

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
./docker-manager.sh logs backend
./docker-manager.sh logs postgres
./docker-manager.sh logs frontend
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É

```bash
# Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
./docker-manager.sh exec backend

# PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
./docker-manager.sh exec postgres
```

### –û—á–∏—Å—Ç–∫–∞

```bash
# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (—É–¥–∞–ª—è–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–±—Ä–∞–∑—ã –∏ —Ç–æ–º–∞)
./docker-manager.sh clean
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Taskmanager2/
‚îú‚îÄ‚îÄ .cursor/
‚îÇ   ‚îî‚îÄ‚îÄ mcp.json              # MCP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml         # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile.backend         # Backend –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ Dockerfile.frontend        # Frontend –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-manager.sh          # –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Docker
‚îî‚îÄ‚îÄ ...
```

## üõ†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏

–ï—Å–ª–∏ –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã, –∏–∑–º–µ–Ω–∏—Ç–µ –∏—Ö –≤ `docker-compose.yml`:

```yaml
ports:
  - "3001:3000"  # Frontend
  - "5002:5000"  # Backend
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PostgreSQL:
```bash
./docker-manager.sh logs postgres
```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
./docker-manager.sh restart postgres
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å MCP

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.cursor/mcp.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Docker socket
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `@modelcontextprotocol/server-filesystem`:
   ```bash
   npm install -g @modelcontextprotocol/server-filesystem
   ```
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Node.js –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP:

1. **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä–æ–π—Ç–µ Cursor**
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Tools & MCP" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–æ "No tools, prompts, or resources"

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `./docker-manager.sh logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `./docker-manager.sh status`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã: `./docker-manager.sh restart`
